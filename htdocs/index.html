<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TinyRisks.art</title>
  <link rel="stylesheet" href="./static/css/base.css">
  <style></style>
</head>
<body data-theme="brass">

  <header>
  <div style="display:flex;align-items:center;gap:14px">
    <div class="mark"></div>
    <div>
      <a href="/" style="text-decoration:none;color:inherit">
        <div class="brand" style="font-weight:bold;font-size:1.5rem">TinyRisks</div>
      </a>
      <div style="font-weight:600;color:var(--ink);font-size:.9rem">Art Studio</div>
    </div>
  </div>
  <nav style="font-size:1.3rem;font-weight:bold;text-align:center">
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/#work">Work</a></li>
      <li><a href="/gallery">Gallery</a></li>
      <li><a href="/writing">Writing</a></li>
      <li><a href="/#contact">Contact</a></li>
    </ul>
  </nav>
</header>

  

<section class="hero">
  <div class="hero-image" ></div>
  <div class="hero-content">
    <div class="kicker">Art × Structure</div>
    <h1>Where lines meet light</h1>
    <div class="poem">
      
      <p>Viens avec nous, la voile est prête;</p>
      
      <p>Frère, viens; que rien ne t'arrête.</p>
      
      <p>Plus d'ouragan, de tempête,</p>
      
    </div>
    
    <a href="#work" class="cta">View Work</a>
    
  </div>
</section>

<div class="container">
  <!-- Work Section -->
  <div class="grid" id="work">
    
      <h2 class="section-title">Selected Work</h2>
    
    <div id="work-items" style="grid-column:1/-1;display:grid;grid-template-columns:repeat(12,1fr);gap:clamp(12px,2vw,24px)">
      
        
<article class="work-card">
    <div class="work-meta">001 • Greek Gods Series</div>
    <h3>Poseidon</h3>
    <p>God of Sea, Earthquakes, and Horses. A study in structure within chaos—grids bend like waves, brass lines become tridents.</p>

    <a href="/poseidon.html" style="color:var(--accent);text-decoration:none;margin-top:.5rem;display:inline-block;font-size:.85rem">View →</a>
</article>

      
        
<article class="work-card">
    <div class="work-meta">002 • Pavilion</div>
    <h3>Delta Canopy</h3>
    <p>A modular shade canopy expressed as intersecting chords. Steel, fabric, and daylight studies.</p>

    
</article>

      
        
<article class="work-card">
    <div class="work-meta">003 • Installation</div>
    <h3>Brass Grid</h3>
    <p>Façade mockup with brass datum lines and concrete texture panels.</p>

    
</article>

      
    </div>
  </div>

  <!-- Featured Gallery Section -->
  <div class="grid" id="community">
    <h2 class="section-title">Community Gallery</h2>
    
    <!-- Upload Form -->
    <div class="contact-form" style="grid-column: span 12; margin-bottom: 2rem;">
      <h4 style="color:var(--accent);margin-top:0;text-transform:uppercase;letter-spacing:.12em">Share Your Vision</h4>
      <form id="imageUploadForm" style="display:grid;gap:1rem;grid-template-columns:1fr auto;align-items:end;">
          <div style="flex-grow:1">
              <label for="imageInput">Select Image</label>
              <input type="file" id="imageInput" name="image" accept="image/*" required style="margin-bottom:0">
          </div>
          <button type="submit" id="uploadBtn" style="height:50px;white-space:nowrap;padding:0 32px">Upload</button>
      </form>
      <div id="uploadStatus" style="margin-top:1rem;font-size:0.9rem"></div>
    </div>

    <!-- Image Grid -->
    <div id="community-grid" style="grid-column:1/-1;display:grid;grid-template-columns:repeat(auto-fill, minmax(250px, 1fr));gap:clamp(12px,2vw,24px)">
        <!-- Images will be loaded here -->
    </div>
  </div>
  

  <!-- Writing Preview -->
  <div class="grid" id="writing">
    
      <h2 class="section-title">Writing</h2>
    
    <div class="blog-preview" style="grid-column:1/-1">
      <h3>Thoughts & Verses</h3>
      <p class="excerpt">Reflections on architecture, impermanence, and the spaces between. Exploring where structure meets dissolution, and form finds meaning in the void.</p>
      <a href="/writing" class="btn" style="margin-top:1.5rem">Explore Writing →</a>
    </div>
  </div>

</div>


  <footer>
  <p>© <span id="year"></span> TinyRisks.art — Built with semantic HTML + simple CSS.</p>
</footer>

  <script src="./static/js/components.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    function toggleTheme() {
      const body = document.body;
      const current = body.getAttribute('data-theme');
      body.setAttribute('data-theme', current === 'brass' ? 'cyan' : 'brass');
    }

    // Image Upload & Gallery Logic
    const uploadForm = document.getElementById('imageUploadForm');
    const uploadStatus = document.getElementById('uploadStatus');
    const communityGrid = document.getElementById('community-grid');

    async function loadImages() {
        if (!communityGrid) return;
        try {
            // Python/Flask Endpoint
            const response = await fetch('/api/images');
            const images = await response.json();
            
            communityGrid.innerHTML = images.map(img => `
                <div class="work-card" style="padding:0;overflow:hidden;grid-column:span 1;">
                    <div style="aspect-ratio:1;overflow:hidden;">
                        <img src="${img.url}" alt="Community Upload" style="width:100%;height:100%;object-fit:cover;transition:transform .3s" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                    </div>
                </div>
            `).join('');
        } catch (e) {
            console.error('Failed to load images', e);
        }
    }

    if(uploadForm) {
        uploadForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(uploadForm);
            const btn = document.getElementById('uploadBtn');
            const originalText = btn.textContent;
            
            btn.textContent = 'Uploading...';
            btn.disabled = true;
            uploadStatus.textContent = '';
            uploadStatus.className = '';

            try {
                // Python/Flask Endpoint
                const res = await fetch('/api/upload', {
                    method: 'POST',
                    body: formData
                });
                const data = await res.json();
                
                if (res.ok && !data.error) {
                    uploadStatus.textContent = 'Success! Image added.';
                    uploadStatus.style.color = 'var(--success)';
                    uploadForm.reset();
                    loadImages(); // Refresh grid
                } else {
                    throw new Error(data.error || 'Upload failed');
                }
            } catch (err) {
                uploadStatus.textContent = err.message;
                uploadStatus.style.color = 'var(--error)';
            } finally {
                btn.textContent = originalText;
                btn.disabled = false;
            }
        });

        // Initial load
        loadImages();
    }

  </script>
</body>
</html>